# 使い方ガイド

## 初回セットアップ

### 1. Gemini API キーの取得と設定

1. https://makersuite.google.com/app/apikey にアクセス
2. Googleアカウントでログイン
3. 新しいAPIキーを作成
4. キーをコピー
5. プロジェクトの `.env` ファイルを作成：

```env
GEMINI_API_KEY=AIzaXXXXXXXXXXXXXXXXXXXXXXXXX
```

### 2. アプリの起動

ターミナルで以下を実行：

```bash
make dev
```

ブラウザで http://localhost:3000 を開きます。

## 基本的な使い方

### ステップ1: PDFファイルを読み込む

「PDFを選択」ボタンからPDFファイルを選択します。

### ステップ2: ページ移動

- 「前のページ」「次のページ」ボタンでページを移動
- ページ番号も表示されます（例: 1 / 20）

### ステップ3: 解答を書き込む

1. **ペンで書く**
   - Apple Pencilやスタイラスで直接書き込み
   - マウスでも描画可能

2. **消しゴム（スクラッチ消去）**
   - 消したい線の上をスクラッチ（ぐりぐり）すると消去されます

### ステップ4: 採点する

1. 解答を書き終わったら「採点する」ボタンをクリック
2. 画像がGemini APIに送信されます（数秒かかります）
3. 採点結果がポップアップで表示されます

### ステップ5: 結果を確認

採点結果には以下が含まれます：

- **問題ごとの結果**
  - 正解/不正解の判定（✓または✗）
  - あなたの解答
  - 正しい解答（不正解の場合）
  - フィードバック

- **全体コメント**
  - 学習のアドバイスや励まし

## Tips

### より正確な採点のために

- **丁寧に書く**: 手書き文字は読みやすく書きましょう
- **適切なサイズ**: 小さすぎず、大きすぎず
- **問題ごとに区別**: 問題の近くに解答を書くとAIが認識しやすい

### 効率的な学習

1. まず自分で解いてみる
2. 採点して間違いを確認
3. 解説を読んで理解する
4. 次のページに進む

## トラブルシューティング

**Q: PDFが表示されない**
- ファイルが正しく選択されているか確認
- ブラウザのコンソールでエラーを確認

**Q: 採点ボタンを押してもエラーになる**
- `.env` ファイルにAPIキーが正しく設定されているか確認
- APIサーバーが起動しているか確認
- ネットワーク接続を確認

**Q: 手書きが反映されない**
- ブラウザをリロードしてみる
- 別のブラウザで試す

**Q: 採点結果が正確でない**
- より丁寧に文字を書く
- 問題文と解答を明確に区別する
- AIは100%の精度ではありません

## サポート

問題が発生した場合は、以下を確認してください：

1. Node.jsのバージョン（推奨: v18以上）
2. pnpmパッケージが正しくインストールされているか
3. APIキーが有効か
4. ブラウザのコンソールログ

楽しく学習してください！
